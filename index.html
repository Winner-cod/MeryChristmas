<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mon Cadeau de No√´l ‚ù§Ô∏è</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: "Georgia", serif;
  background: #5ac5fa;
  color: #2b2b2b;
  text-align: center;
  overflow: hidden;
}

.hidden { display: none; }

.page {
  width: 100vw;
  height: 100vh;
  display: none;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  gap: 30px;
}

.page.active { display: flex; }

h1 { font-size: 3rem; letter-spacing: 3px; }
h2 { font-size: 2rem; }

#countdown { font-size: 2rem; font-weight: bold; margin-top:20px; }

button {
  padding: 15px 35px;
  font-size: 1.2rem;
  border-radius: 40px;
  border: none;
  cursor: pointer;
}

.primary { background: #dc2626; color: white; }
.secondary { background: #444; color: white; }

.blocks { display: flex; gap: 40px; }
.block {
  width: 220px;
  height: 220px;
  background: rgba(249, 233, 86, 0.9);
  border-radius: 30px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1.4rem;
  cursor: pointer;
  transition: transform 0.4s;
}
.block:hover { transform: scale(1.1); }

/* POEME */
#poemText {
  width: 50%;
  height: 70%;
  font-size: 1.4rem;
  line-height: 1.6;
  white-space: pre-line;
  padding: 20px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 20px;
  box-shadow: 0 0 15px rgba(0,0,0,0.2);
  text-align: left;
  margin-top: 20px;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;
}

/* MEMOIRES */
.gallery {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: center;
  max-height: 70%;
  overflow-y: auto;
  padding: 10px;
}

.gallery img, .gallery video {
  width: 250px;
  border-radius: 15px;
  box-shadow: 0 0 10px rgba(0,0,0,0.2);
}

/* ANIMATIONS FINALES */
.float {
  position: fixed;
  bottom: -20px;
  animation: float 7s linear infinite;
  opacity: 0.8;
}

@keyframes float { from { transform: translateY(0); } to { transform: translateY(-120vh); } }

#loveText { font-size: 4rem; color: #dc2626; animation: pulse 2s infinite; }

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}
</style>
</head>

<body>

<audio id="music1" loop>
  <source src="music/Chord Overstreet - Hold On (Lyric Video).mp3" type="audio/mp3">
</audio>
<audio id="music2">
  <source src="music/myeraiya-kyeri-all-i-want-for-christmas-is-you.mp3" type="audio/mp3">
</audio>

<!-- PAGE 1 : COMPTE √Ä REBOURS + bouton No√´l -->
<div class="page active" id="page-countdown">
  <h1>Ce cadeau s‚Äôouvrira le</h1>
  <h2>25 d√©cembre 2025</h2>
  <div id="countdown"></div>
  <button class="primary hidden" id="openBtn" onclick="openGift()">üéÑ Joyeux No√´l üéÑ</button>
</div>

<!-- PAGE 2 : MENU BLOCS -->
<div class="page" id="page-menu">
  <h1>Choisis ton moment</h1>
  <div class="blocks">
    <div class="block" onclick="showPage('page-memories')">üíû Nos souvenirs</div>
    <div class="block" onclick="showPage('page-poem')">‚úçÔ∏è Po√®me</div>
    <div class="block" onclick="showPage('page-question')">üíç Ma demande</div>
  </div>
</div>

<!-- PAGE MEMOIRES -->
<div class="page" id="page-memories">
  <h1>Nos souvenirs</h1>
  <div class="gallery">
    <img src="images/img1.jpg" alt="Souvenir 1">
    <img src="images/img2.jpg" alt="Souvenir 2">
    <img src="images/img3.jpg" alt="Souvenir 3">
    <img src="images/img4.jpg" alt="Souvenir 4">
    <img src="images/img5.jpg" alt="Souvenir 5">
    <img src="images/img6.jpg" alt="Souvenir 6">
    <img src="images/img7.jpg" alt="Souvenir 7">

    <video controls><source src="images/vid1.MP4" type="video/mp4"></video>
    <video controls><source src="images/vid2.MP4" type="video/mp4"></video>
    <video controls><source src="images/vid3.MP4" type="video/mp4"></video>
    <video controls><source src="images/vid4.MP4" type="video/mp4"></video>
    <video controls><source src="images/vid5.MP4" type="video/mp4"></video>
    <video controls><source src="images/vid6.MP4" type="video/mp4"></video>
    <video controls><source src="images/vid7.MP4" type="video/mp4"></video>
    <video controls><source src="images/vid8.MP4" type="video/mp4"></video>
    <video controls><source src="images/vid9.MP4" type="video/mp4"></video>
    <video controls><source src="images/vid10.MP4" type="video/mp4"></video>
    <video controls><source src="images/vid11.MP4" type="video/mp4"></video>
    <video controls><source src="images/vid12.MP4" type="video/mp4"></video>
    <video controls><source src="images/vid13.MP4" type="video/mp4"></video>
  </div>
  <button class="secondary" onclick="showPage('page-menu')">‚¨Ö Retour</button>
</div>

<!-- PAGE POEME -->
<div class="page" id="page-poem">
  <h1>Pour toi</h1>
  <div id="poemText"></div>
  <button class="secondary" onclick="showPage('page-menu')">‚¨Ö Retour</button>
</div>

<!-- PAGE DEMANDE -->
<div class="page" id="page-question">
  <h1>Une question‚Ä¶</h1>
  <p>
    Ma ch√©rie ‚ù§Ô∏è,<br>
    M√™me si j‚Äôaurais voulu te le dire en personne, je ne pouvais pas attendre plus longtemps‚Ä¶<br>
    Je t‚Äôaime vraiment, et je veux que tu sois √† mes c√¥t√©s pour la suite.<br>
    Veux‚Äëtu continuer cette histoire avec moi, officiellement ? üíç
  </p>
  <div style="display:flex; justify-content:center; gap:20px; margin-top:20px;">
    <button class="primary" onclick="showPage('page-final')">Oui ‚ù§Ô∏è</button>
    <button class="secondary" onclick="alert('D√©sol√© mais tu es oblig√©e d\'accepter üòú')">Non ‚ùå</button>
  </div>
</div>

<!-- PAGE FINALE -->
<div class="page" id="page-final">
  <div id="loveText">JE T‚ÄôAIME ML‚ù§Ô∏è</div>
</div>

<script>
const targetDate = new Date("2025-12-22T00:00:00").getTime();
const countdownEl = document.getElementById("countdown");
const openBtn = document.getElementById("openBtn");
let poemPlayed = false;

// COMPTE √Ä REBOURS
function updateCountdown() {
  const now = Date.now();
  const distance = targetDate - now;
  if(distance <= 0) {
    countdownEl.textContent = "C'est le jour J !";
    openBtn.classList.remove("hidden");
  } else {
    const days = Math.floor(distance / (1000*60*60*24));
    const hours = Math.floor((distance / (1000*60*60)) % 24);
    const minutes = Math.floor((distance / (1000*60)) % 60);
    const seconds = Math.floor((distance / 1000) % 60);
    countdownEl.textContent = `${days}j ${hours}h ${minutes}m ${seconds}s`;
  }
}
setInterval(updateCountdown, 1000);
updateCountdown();

function openGift() {
  document.getElementById("music1").play();
  showPage('page-menu');
}

// CHOIX DES PAGES
function showPage(id) {
  document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
  document.getElementById(id).classList.add("active");

  if(id === "page-poem" && !poemPlayed) {
    poemPlayed = true;
    typeWriter({ element: document.getElementById("poemText"), text: poemText });
  }

  if(id === "page-final") startFinalEffects();
}

// MACHINE √Ä √âCRIRE avec scroll automatique
function typeWriter({ element, text, speed=55, commaPause=200, dotPause=500, linePause=350 }) {
  let i = 0;
  element.textContent = "";
  function write() {
    if(i >= text.length) return;
    const char = text[i];
    element.textContent += char;
    i++;
    element.scrollTop = element.scrollHeight;
    let delay = speed;
    if(char === ',') delay = commaPause;
    if('.!?'.includes(char)) delay = dotPause;
    if(char === '\n') delay = linePause;
    setTimeout(write, delay);
  }
  write();
}

// POEME AVEC EMOJIS
const poemText = `
Je t‚Äôaime ‚ù§Ô∏è.
Vraiment üíñ.

Plus que je ne saurais l‚Äôexpliquer,
plus que je n‚Äôai jamais aim√© avant üåü.

Tu es la seule ‚ú®.
Celle que mon c≈ìur a reconnue üíò.

Je sais‚Ä¶
Parfois je t‚Äô√©nerve üòÖ.
Parfois je fais mal les choses üòî.
Parfois je n‚Äôen fais pas assez.

Je ne suis pas parfait üòû.
Mon manque d‚Äôexp√©rience me rattrape.
Mais chaque jour,
je ferai de mon mieux üí™.

Tu n‚Äôimagines pas
√† quel point je t‚Äôaime üíù.

Je veux √™tre l√†
quand tu r√©aliseras tes projets üèÜ.
Je veux que tu sois l√†
quand je construirai les miens üè°.

Je veux √™tre l‚Äô√©paule
sur laquelle tu t‚Äôappuies ü§ó,
dans les jours difficiles
comme dans les jours lumineux üåÖ.

Je veux conna√Ætre
chaque facette de toi üå∏.

Peut-√™tre que je vais loin‚Ä¶
en parlant d‚Äôavenir,
d‚Äôenfant üë∂,
de premi√®re fois üíè.

Mais je le souhaite vraiment ‚ú®.

Je veux que notre amour
ait J√©sus-Christ pour fondation ‚úùÔ∏è.
Qu‚ÄôIl guide nos pas,
qu‚ÄôIl prot√®ge nos c≈ìurs ‚ù§Ô∏è.

Alors oui,
je t‚Äôai choisie ü•∞.
M√™me quand le monde doutait üåç.
M√™me quand toi, tu doutais ü§î.
M√™me quand le temps passait ‚è≥.

Aujourd‚Äôhui,
ce ne sont pas juste
des lignes de code üíª
que je t‚Äôoffre pour No√´l üéÑ.

C‚Äôest mon c≈ìur üíñ.

Joyeux No√´l,
ma princesse üëë.
`;

// EFFETS FINAUX
let finalStarted=false;
function startFinalEffects(){
  if(finalStarted) return;
  finalStarted=true;

  const music1 = document.getElementById("music1");
  const music2 = document.getElementById("music2");

  // Stop premi√®re musique et lancer la deuxi√®me √† 38s
  music1.pause();
  music2.currentTime = 38;
  music2.play();

  setInterval(()=>spawn("‚ù§Ô∏è"),500);
  setInterval(()=>spawn("üíê"),900);
  setInterval(()=>spawn("‚≠ê"),700);
  setInterval(()=>spawn("üéÑ"),1100);
}

function spawn(symbol){
  const el=document.createElement("div");
  el.className="float";
  el.innerHTML=symbol;
  el.style.left=Math.random()*100+"vw";
  el.style.fontSize=(20+Math.random()*30)+"px";
  document.body.appendChild(el);
  setTimeout(()=>el.remove(),7000);
}
</script>

</body>
</html>

